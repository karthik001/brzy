#
# application configuration
#
# http://bill.burkecentral.com/2008/01/14/scanning-java-annotations-at-runtime/
# http://jyaml.sourceforge.net/
application:
  version: "1.0.0"
  name: &name Test app
  author: Fred
  description: &desc Some Description
  org: &group org.brzy.sample
  artifact_id: sample-jpa
  application_class: org.brzy.mock.MockWebApp
  properties:
    test: value
  webapp_context: mainapp

#
# dependencies
# scope:organization:name:version
# scope = [provided,runtime,test]
dependencies:
  - {conf: compile, org: org.apache.wicket, name: wicket, rev: "1.4-rc6"}
  - {conf: compile, org: org.fusesource.scalate, name: scalate-core, rev: "1.2-SNAPSHOT"}

#
# Dependency Management
repositories:
  - id: fusesource
    url: http://someurl.com/test

plugins:
  - name: brzy-scalate
    org: org.brzy
    version: "0.2"
    config_class: org.brzy.plugin.ScalatePluginConfig
    remote_location: ~/.m2/repository/org/brzy/brzy-scalate/0.2/brzy-scalate-0.2-plugin.zip

persistence:
  - name: brzy-squeryl
    org: org.brzy
    version: "0.2"
    config_class: org.brzy.plugin.SquerylPluginConfig
    package_scope: *group
    driver: org.postgresql.Driver
    user_name: test
    password: ""
    url: jdbc:postgresql://localhost/dev

#
# Logging
#[logback,log4j,jul]
logging:
  provider: logback
  appenders:
    - name: STDOUT
      appender_class: ch.qos.logback.core.ConsoleAppender
      layout: ch.qos.logback.classic.encoder.PatternLayoutEncoder
      pattern: "%-4relative [%thread] %-5level %class - %msg%n"
    - name: FILE
      appender_class: ch.qos.logback.core.rolling.RollingFileAppender
      file: logs/brzy.log
      rolling_policy: ch.qos.logback.core.rolling.TimeBasedRollingPolicy
      file_name_pattern: "brzy.%d{yyyy-MM-dd}.log"
      layout: ch.qos.logback.classic.encoder.PatternLayoutEncoder
      pattern: "%-4relative [%thread] %-5level %class - %msg%n"
  loggers:
    - name: org.brzy
      level: debug
  root:
    level: INFO
    ref: [FILE]

web_xml:
  - description: *desc
  - display-name: *name

#
# override defaults for any environment
#
environment_overrides:
  - environment: development
    logging:
      root:
        ref: [STDOUT]
    application:
      webapp_context: devapp
  - environment: test
    application:
      webapp_context: testapp
  - environment: production
    application:
      webapp_context: prodapp



