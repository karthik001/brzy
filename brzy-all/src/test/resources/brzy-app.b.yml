#
# application configuration
#
# http://bill.burkecentral.com/2008/01/14/scanning-java-annotations-at-runtime/
# http://jyaml.sourceforge.net/
#
--- !org.brzy.config.Config
version: 1.0.0
name: Test app
author: Fred
description: Some Description

scala-version: 2.8.0
ant-version: 1.7.1
ivy-version: 2.1.0

group_id: &group org.brzy.sample
artifact_id: sample-jpa

webapp_context: mainapp

application_class: org.brzy.sample.WebApp
application_properties: 
  test: value
#
# view setup
# [velocity,ssp]
# [html4,html5,xhtml,xhtml2,xhtml5]
views:
  implementation: .ssp
  html_version: html5

#
# dependencies
# scope: organization:name:type:version
#
dependencies:
  - lib: compile:org.apache.wicket:wicket:jar:1.4-rc6
  - lib: compile:org.fusesource.scalate:scalate-core:jar:1.0

#
# Dependency Management
#
repositories:
  - id: fusesource
    url: http://someurl.com/test

plugins:
  - name: breadcrumb
  - name: scheduler
  - name: ejb
  - name: spring

#
# Persistence
#[java-jpa,scala-jpa,jdo,squeryl]
db_migration: true
db_generation: false

persistence:
  - name: "brzy-app"
    implementation: "scala-jpa"
    version: latest
    scan_package: *group
    properties:
      "hibernate.dialect": "org.hibernate.dialect.HSQLDialect"
      "hibernate.connection.url": "jdbc:hsqldb:brzy-database"
      "hibernate.connection.driver_class": "org.hsqldb.jdbcDriver"
      "hibernate.connection.username": "sa"
      "hibernate.connection.password": ""
      "hibernate.hbm2ddl.auto": "update"
  - name: "brzy-squeryl"
    implementation: "squeryl"
    version: latest
    scan_package: *group
    properties:
      driver_class: org.postgresql.Driver
      user_name: test
      password:
      url: jdbc:postgresql://localhost/dev

#
# Logging
#[logback,log4j,jul]
logging:
  provider: logback
  appenders:
    - name: STDOUT
      appender_class: ch.qos.logback.core.ConsoleAppender
      layout: ch.qos.logback.classic.encoder.PatternLayoutEncoder
      pattern: "%-4relative [%thread] %-5level %class - %msg%n"
    - name: FILE
      appender_class: ch.qos.logback.core.rolling.RollingFileAppender
      file: logs/brzy.log
      rolling_policy: ch.qos.logback.core.rolling.TimeBasedRollingPolicy
      file_name_pattern: "brzy.%d{yyyy-MM-dd}.log"
      layout: ch.qos.logback.classic.encoder.PatternLayoutEncoder
      pattern: "%-4relative [%thread] %-5level %class - %msg%n"
  loggers:
    - name: org.brzy
      level: debug
  root:
    level: INFO
    ref: FILE
#
# override defaults for any environment
#
environment_overrides: 
  - environment: developement
    db_migration: false
    logging:
      root:
        ref:STDOUT
    webapp_context: devapp
  - environment: test
    webapp_context: testapp
  - environment: production
    webapp_context: prodapp

